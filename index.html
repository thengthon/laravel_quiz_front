<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BOOK</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>
    <div id="app" class="mt-3">


        <form action="" class="w-25 p-3 m-auto"
            style="
            border-radius: 15px;
            border: 3px solid rgb(64, 207, 119);
            border-top: 8px solid rgb(64, 207, 119);"
        >
            <h5 v-if="!isEditing" class="text-center">Add Book</h5>
            <h5 v-if="isEditing" class="text-center">Edit Book</h5>
            <div class="form-group">
                <input v-model="id" type="hidden" name="id">
            </div>
            <div class="form-group">
                <input v-model="title" type="text" name="title" class="form-control" placeholder="title">
            </div>
            <div class="form-group">
                <textarea v-model="body" style="resize: none;" name="body" class="form-control" placeholder="body"></textarea>
            </div>
            <div class="form-group">
                <input v-model="author_id" type="number" name="author_id" class="form-control" placeholder="author id">
            </div>
            <div class="form-group text-right">
                <button type="button" v-if="!isEditing" @click="add" class="btn btn-primary">Add+</button>
                <button type="button" v-if="isEditing" @click="update" class="btn btn-info">Update</button>
            </div>
        </form>

        <hr>

        <h3 v-if="books.length === 0" class="text-center text-danger">No Book... Create One...</h3>
        <div class="container d-flex flex-wrap justify-content-between mt-3">
            <div class="card w-25 p-2 m-2" v-for="book of books"
                style="
                    border-radius: 15px;
                    border: 1px solid purple;
                    border-top: 5px solid purple;"
            >
                <div class="card_header">
                    <h5 class="text-capitalize d-4 p-0">{{ book.title }}</h5>
                    <span style="font-size: x-small;">{{ book.created_at }}</span>
                </div>
                <hr>
                <div class="card_body">
                    <h6>{{ book.body }}</h6>
                </div>
                <hr>
                <div class="card_footer">
                    <div class="d-flex justify-content-end mt-2">
                        <button @click="edit(book.id)" type="button" class="btn btn-info">Edit</button>
                        <button @click="remove(book.id)" type="button" class="btn btn-danger ml-2">Delete</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
<script src="https://cdn.jsdelivr.net/npm/vue@2.6.14"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src="js/app.js"></script>
</html>